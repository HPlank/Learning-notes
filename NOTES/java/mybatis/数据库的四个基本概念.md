## 数据库的四个基本概念

1). 数据（data）
描述事物的符号记录，譬如：数字、文字、图形、图像、音频、视频等，多种表现形式，均可以经过数字化存入计算机之中。

数据的表现形式还不能完全表达其内容，需要经过解释，数据的解释是指数据含义的说明，数据含义称为语义，数据与其语义是密不可分的。

2). 数据库（DataBase,DB）
长期储存在计算机内，有组织的、可共享的大量数据的集合称为数据库。

数据库中的数据按照一定的数据模型组织，描述和储存，具有较小的冗余度（redundancy），较高的数据独立性（data independency）和易扩展性（Scalaility），并可为各种用户共享。

3). 数据库管理系统（DataBase Management System，DBMS）
有了数据和数据库，就要解决：1. 如何科学性地组织和存储数据，2. 如何高效地获取和维护数据，于是有了一个系统软件——数据库管理系统

数据库管理系统主要具备以下功能：

1.数据定义功能：用户通过它可以方便地对数据库中的数据对象的组成与结构进行定义
2.数据组织、存储和管理功能：DBMS要分类组织、存储和管理各种数据，包括数据字典、用户数据、数据的存取路径等。要确定以何种文件结构和存取方式存储级上组织这些数据，如何实现数据之间的联系。数据组织和存储的基本目标是提高存储空间利用率和方便存取，提供多种存取方法（如索引查找、hash查找、顺序查找）来提高存取效率。
3.数据操纵功能：DBMS提供数据操纵语言（Data Manipulation Language,DML），用户可以使用它操纵数据，实现对数据库的基本操纵，如查询
4.数据库的事务和运行管理：数据库在建立、运用和维护时由DBMS统一管理和控制，以保证事务的正确运行，保证数据的安全性、完整性、多用户对数据的并发使用及发生故障后的系统恢复。
5.数据库的建立和维护：数据库的建立和维护功能包括数据库初始数据的输入、转换功能，数据库的转储、恢复功能，数据库的重组织功能和性能监视、分析功能等。这些功能通常是由一些实用程序或管理工具完成的。
6.其他功能：其他功能包括数据库管理系统与网络中其他软件的通信功能，不同DBMS或文件系统的数据转换功能，异构数据库之间的互访和互操作功能等。
4). 数据库系统（Database System , DBS）
数据库的建立、使用和维护等工作仅靠一个数据库管理系统远远不够，还要有专门的人员来完成，这些人被称为数据库管理员（DBA）.

DBS由数据库、数据库管理系统（及其应用开发工具）、应用程序和数据库管理员（DataBase Administrator，DBA）组成的存储、管理、处理和维护数据的系统。

数据库系统可以用下图表示：

![img](https://img-blog.csdnimg.cn/20190529154253761.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1N0ZXZlX0hhbw==,size_16,color_FFFFFF,t_70)

数据库提供数据的存储功能
数据库管理系统提供数据的组织、存取、管理和维护等基础功能
数据库应用系统根据应用需求使用数据库
数据库管理员负责全面管理数据库系统

## 数据库技术发展的三个阶段

1、人工管理阶段

特点：

（1）数据量较少

（2）数据不永久保存

（3）没有软件系统对数据进行管理

手工处理数据有两个特点：第一，应用于应用之间的依赖性太强。第二：数据与数据组之间可能有太多重复数据，造成数据冗余。

如图所示：![img](https://img-blog.csdnimg.cn/20200405103943685.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pjajE4NTM3MTUwOTcw,size_16,color_FFFFFF,t_70)



2、文件系统阶段

文件系统最大的特点就是解决了应用程序和数据之间的一个公共接口问题，使得应用程序采用统一的存取方法来操作数据。

特点：

（1）数据可以长期保留，数据的逻辑结构和物理结构有了区别，程序可以按名访问，不必关心数据的物理位置，由文件系统提供存取方法。

（2）数据不属于某个特定应用，即应用程序和数据不再是直接的对应关系，可以重复使用。

（3）文件组织形式的多样化，有索引文件，链接文件，Hash文件等等。

文件系统有以下缺点：

（1）数据冗余。

（2）数据不一致性。

（3）数据孤立，即数据联系弱。

如图所示：

![img](https://img-blog.csdnimg.cn/20200405105114916.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pjajE4NTM3MTUwOTcw,size_16,color_FFFFFF,t_70)

3、数据库系统阶段

特点：

（1）采用复杂的数据模型表示数据结构。数据模型不仅描述数据本身的特点还描述数据之间的联系，数据不再面向某个应用，而是面向整个应用系统。数据冗余明显减少，实现数据共享。

（2）有较高的数据独立性。

如图所示：![img](https://img-blog.csdnimg.cn/20200405105622463.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pjajE4NTM3MTUwOTcw,size_16,color_FFFFFF,t_70)

## DBS有如下四个主要特点：

1，整体数据结构化

数据库中的任何数据都不属于任何应用，数据是公共的，结构是全面的。在数据库中，数据文件的个数是有限的，固定的，但数据库系统的应用却是无限制的。

好处：整体数据的结构化可减少乃至消除不必要的数据冗余，因此节约了整体数据的存储空间，避免了数据的不一致性和不相容性（数据不符合规定的约束条件）。

2，数据的共享度高

数据与数据的逻辑结构同时存储在数据库中，显示数据时，可同时显示数据的逻辑结构；整个组织的整体数据被综合考虑，整体数据结构化。因而，DBS的数据共享度较高。

好处：合法用户都可以方便的访问使用数据库中的数据，且不用担心出现数据的不一致性和不相容性。数据库中的数据可适应各种合法用户的合理要求以及各种应用的要求，可以方便的扩充新的应用。

3，数据的独立性高

数据的独立性是指数据与应用程序之间的关联性。数据与数据的结构是存储在数据库中的（在外存上），由DBMS管理的。应用程序既不存储数据，也不存储数据的逻辑结构。

物理独立性：数据库中数据的世纪存储方式改变时，DBMS可以适当改变转换数据的方式，使用户面对数据的逻辑结构保持不变，从而处理数据的应用程序也保持不变。

逻辑独立性：数据库中数据的逻辑结构发生变化时，DBMS可以适当改变数据的转换方式，用户面对数据的逻辑结构保持不变。

好处：数据与程序相互独立，可以方便的编制各种应用程序，大大减轻应用程序的维护工作。

4，高度的数据控制能力

a,较高的安全性

b,较好的数据完整性

c,较强的并发控制能力

d,较强的数据恢复能力

## 数据模型

数据模型（data model） 是一种模型，是对现实世界数据特征的抽象。

数据模型是用来描述数据、组织数据、对数据进行操作的。现有的数据库均是基于某种数据模型的。

数据模型是数据库系统的核心和基础。

二、两类数据模型
数据模型应满足三方面要求:
①能比较真实地模拟现实世界
②容易为人们所理解
③便于在计算机上实现

根据模型应用的不同目的，可划分为两大类：

概念模型（conceptual model）
是按用户的观点来对数据和信息建模，主要用于数据库设计。

逻辑模型和物理模型
主要包括层次模型、网状模型、关系模型（relational model）、面向对象数据模型和对象关系数据模型、半结构化数据模型等。
按计算机系统观点对数据建模，主要用于数据库管理系统的实现。

物理模型是对数据最底层的抽象，描述数据在系统内部的表示方式和存取方法，或在磁盘上或磁带上的存储方式和存取方法，是面向计算机系统的。

三、数据模型的组成要素
数据模型由数据结构、数据操作和数据的完整性约束条件三部分组成。

①数据结构
描述数据库的 组成对象 以及 对象之间 的联系。即，数据结构描述的对象有两类：

与对象的类型、内容、性质有关的
与数据之间联系有关的对象
②数据操作
是指对数据库中各种对象（型）的实例（值）允许执行的操作的集合，包括操作及有关的操作规则。

数据库主要有两大类操作：

查询 更新（插入、删除、修改）
③数据的完整性约束条件是一组完整性规则。

完整性规则是给定的数据模型中数据及其联系所具有的制约和依存规则，用以限定符合数据模型的数据库状态以及状态的变化，以保证数据的正确、有效和相容。

数据模型应该反映和规定其必须遵守的基本的和通用的完整性约束条件。

四、概念模型
如二中的图，概念模型实际上是现实世界到机器世界的一个中间层次。

概念模型用于信息世界的建模，是现实世界到信息世界的第一层抽象。

4.1 信息世界中的基本概念
①实体（entity）

客观存在并可相互区别的事物称为实体。

实体可以是具体的人、事、物，也可以是抽象的概念或联系。

例：一个职工、一个学生、学生的一次选课、教师与院系的工作关系等

②实体型（entity type）

具有相同属性的实体必然具有共同的特征和性质。

用实体名及其属性名集合来抽象和刻画同类实体，称为实体型。

例：学生（学号，姓名，性别，出生年月，所在院系）就是一个实体型

③实体集（entity set）

同一类型实体的集合称为实体集。

例：全体学生就是一个实体集

④属性（attribute）

实体所具有的某一特性称为属性。

一个实体可由若干个属性来刻画。

例：学生实体可以由学号、姓名、性别、出生年月、所在院系等属性组成。

⑤码（key）

唯一标示实体的属性集称为码。

例：学号事学生实体的码

⑥联系（relationship）

在现实世界中，事物内部以及事物之间是有联系的，这些联系在信息世界中反应为实体（型）内部的联系和实体（型）之间的联系。

实体内部的联系通常是指组成实体的各属性之间的联系
实体之间的联系通常是指不同实体集之间的联系

实体之间的联系有一对一、一对多、多对多等类型。



4.2 实体联系法
实体-联系方法

用E-R图来描述现实世界的概念模型

五、关系模型
关系数据库采用关系模型作为数据的组织方式

关系模型建立在严格的数学概念的基础上



关系模型中的术语：

①关系（relation）
一个关系对应通常说的一张表，如图的图书管借阅证信息表

②元组（tuple）
表中的一行即为一个元组

③属性（attribute）
表中的一列即为一个属性，给每个属性起名，即属性名

例：（学号、姓名、性别、年龄、图书证号、所在系）

④码（key）
也称码键，表中的某个属性，可以唯一确定一个元组，称为码

例：表中的学号可以唯一确定一个学生，学号即为码

⑤域（domain）
域是一组具有相同数据类型的值的集合。

属性的取值范围来自某个域

例：人的年龄一般在1~120岁之间
1~120就是域

⑥分量
元组中的一个属性值

⑦关系模式
对关系的描述一般为：
关系名（属性1，属性2，…，属性n）

例 ：上表的关系可描述为：
借阅证（学号、姓名、性别、年龄、图书证号、所在系）

关系模型要求关系必须是规范化的，即要求关系必须满足一定的规范条件（即范式）

最基本应满足第一范式，即表中不能再有表，每一个分量必须是一个不可再分的数据项。

六、总结
数据模型是数据库系统的核心和基础。

概念模型，是按用户的观点来对数据和信息建模，主要用于数据库设计。

逻辑模型和物理模型，是按计算机系统观点对数据建模，主要用于数据库管理系统的实现。

数据模型由数据结构、数据操作和数据的完整性约束条件三部分组成。

实体之间的联系通常是指不同实体集之间的联系

实体之间的联系有一对一、一对多、多对多等类型。

关系模型满足的基本规定是：表中不能再有表
一、数据模型
数据模型（data model） 是一种模型，是对现实世界数据特征的抽象。

数据模型是用来描述数据、组织数据、对数据进行操作的。

现有的数据库均是基于某种数据模型的。

数据模型是数据库系统的核心和基础。

二、两类数据模型
数据模型应满足三方面要求:
①能比较真实地模拟现实世界
②容易为人们所理解
③便于在计算机上实现

根据模型应用的不同目的，可划分为两大类：

概念模型（conceptual model）
是按用户的观点来对数据和信息建模，主要用于数据库设计。

逻辑模型和物理模型
主要包括层次模型、网状模型、关系模型（relational model）、面向对象数据模型和对象关系数据模型、半结构化数据模型等。
按计算机系统观点对数据建模，主要用于数据库管理系统的实现。

物理模型是对数据最底层的抽象，描述数据在系统内部的表示方式和存取方法，或在磁盘上或磁带上的存储方式和存取方法，是面向计算机系统的。



三、数据模型的组成要素
数据模型由数据结构、数据操作和数据的完整性约束条件三部分组成。

①数据结构
描述数据库的 组成对象 以及 对象之间 的联系。

即，数据结构描述的对象有两类：

与对象的类型、内容、性质有关的
与数据之间联系有关的对象
②数据操作
是指对数据库中各种对象（型）的实例（值）允许执行的操作的集合，包括操作及有关的操作规则。

数据库主要有两大类操作：

查询
更新（插入、删除、修改）
③数据的完整性约束条件
是一组完整性规则。

完整性规则是给定的数据模型中数据及其联系所具有的制约和依存规则，用以限定符合数据模型的数据库状态以及状态的变化，以保证数据的正确、有效和相容。

数据模型应该反映和规定其必须遵守的基本的和通用的完整性约束条件。

四、概念模型
如二中的图，概念模型实际上是现实世界到机器世界的一个中间层次。

概念模型用于信息世界的建模，是现实世界到信息世界的第一层抽象。

4.1 信息世界中的基本概念
①实体（entity）

客观存在并可相互区别的事物称为实体。

实体可以是具体的人、事、物，也可以是抽象的概念或联系。

例：一个职工、一个学生、学生的一次选课、教师与院系的工作关系等

②实体型（entity type）

具有相同属性的实体必然具有共同的特征和性质。

用实体名及其属性名集合来抽象和刻画同类实体，称为实体型。

例：学生（学号，姓名，性别，出生年月，所在院系）就是一个实体型

③实体集（entity set）

同一类型实体的集合称为实体集。

例：全体学生就是一个实体集

④属性（attribute）

实体所具有的某一特性称为属性。

一个实体可由若干个属性来刻画。

例：学生实体可以由学号、姓名、性别、出生年月、所在院系等属性组成。

⑤码（key）

唯一标示实体的属性集称为码。

例：学号事学生实体的码

⑥联系（relationship）

在现实世界中，事物内部以及事物之间是有联系的，这些联系在信息世界中反应为实体（型）内部的联系和实体（型）之间的联系。

实体内部的联系通常是指组成实体的各属性之间的联系
实体之间的联系通常是指不同实体集之间的联系

实体之间的联系有一对一、一对多、多对多等类型。



4.2 实体联系法
实体-联系方法

用E-R图来描述现实世界的概念模型

五、关系模型
关系数据库采用关系模型作为数据的组织方式

关系模型建立在严格的数学概念的基础上



关系模型中的术语：

①关系（relation）
一个关系对应通常说的一张表，如图的图书管借阅证信息表

②元组（tuple）
表中的一行即为一个元组

③属性（attribute）
表中的一列即为一个属性，给每个属性起名，即属性名

例：（学号、姓名、性别、年龄、图书证号、所在系）

④码（key）
也称码键，表中的某个属性，可以唯一确定一个元组，称为码

例：表中的学号可以唯一确定一个学生，学号即为码

⑤域（domain）
域是一组具有相同数据类型的值的集合。

属性的取值范围来自某个域

例：人的年龄一般在1~120岁之间
1~120就是域

⑥分量
元组中的一个属性值

⑦关系模式
对关系的描述一般为：
关系名（属性1，属性2，…，属性n）

例 ：上表的关系可描述为：
借阅证（学号、姓名、性别、年龄、图书证号、所在系）

关系模型要求关系必须是规范化的，即要求关系必须满足一定的规范条件（即范式）

最基本应满足第一范式，即表中不能再有表，每一个分量必须是一个不可再分的数据项。

六、总结
数据模型是数据库系统的核心和基础。

概念模型，是按用户的观点来对数据和信息建模，主要用于数据库设计。

逻辑模型和物理模型，是按计算机系统观点对数据建模，主要用于数据库管理系统的实现。

数据模型由数据结构、数据操作和数据的完整性约束条件三部分组成。

实体之间的联系通常是指不同实体集之间的联系

实体之间的联系有一对一、一对多、多对多等类型。

一、数据模型
数据模型（data model） 是一种模型，是对现实世界数据特征的抽象。

数据模型是用来描述数据、组织数据、对数据进行操作的。

现有的数据库均是基于某种数据模型的。

数据模型是数据库系统的核心和基础。

二、两类数据模型
数据模型应满足三方面要求:
①能比较真实地模拟现实世界
②容易为人们所理解
③便于在计算机上实现

根据模型应用的不同目的，可划分为两大类：

概念模型（conceptual model）
是按用户的观点来对数据和信息建模，主要用于数据库设计。

逻辑模型和物理模型
主要包括层次模型、网状模型、关系模型（relational model）、面向对象数据模型和对象关系数据模型、半结构化数据模型等。
按计算机系统观点对数据建模，主要用于数据库管理系统的实现。

物理模型是对数据最底层的抽象，描述数据在系统内部的表示方式和存取方法，或在磁盘上或磁带上的存储方式和存取方法，是面向计算机系统的。



三、数据模型的组成要素
数据模型由数据结构、数据操作和数据的完整性约束条件三部分组成。

①数据结构
描述数据库的 组成对象 以及 对象之间 的联系。

即，数据结构描述的对象有两类：

与对象的类型、内容、性质有关的
与数据之间联系有关的对象
②数据操作
是指对数据库中各种对象（型）的实例（值）允许执行的操作的集合，包括操作及有关的操作规则。

数据库主要有两大类操作：

查询
更新（插入、删除、修改）
③数据的完整性约束条件
是一组完整性规则。

完整性规则是给定的数据模型中数据及其联系所具有的制约和依存规则，用以限定符合数据模型的数据库状态以及状态的变化，以保证数据的正确、有效和相容。

数据模型应该反映和规定其必须遵守的基本的和通用的完整性约束条件。

四、概念模型
如二中的图，概念模型实际上是现实世界到机器世界的一个中间层次。

概念模型用于信息世界的建模，是现实世界到信息世界的第一层抽象。

4.1 信息世界中的基本概念
①实体（entity）

客观存在并可相互区别的事物称为实体。

实体可以是具体的人、事、物，也可以是抽象的概念或联系。

例：一个职工、一个学生、学生的一次选课、教师与院系的工作关系等

②实体型（entity type）

具有相同属性的实体必然具有共同的特征和性质。

用实体名及其属性名集合来抽象和刻画同类实体，称为实体型。

例：学生（学号，姓名，性别，出生年月，所在院系）就是一个实体型

③实体集（entity set）

同一类型实体的集合称为实体集。

例：全体学生就是一个实体集

④属性（attribute）

实体所具有的某一特性称为属性。

一个实体可由若干个属性来刻画。

例：学生实体可以由学号、姓名、性别、出生年月、所在院系等属性组成。

⑤码（key）

唯一标示实体的属性集称为码。

例：学号事学生实体的码

⑥联系（relationship）

在现实世界中，事物内部以及事物之间是有联系的，这些联系在信息世界中反应为实体（型）内部的联系和实体（型）之间的联系。

实体内部的联系通常是指组成实体的各属性之间的联系
实体之间的联系通常是指不同实体集之间的联系

实体之间的联系有一对一、一对多、多对多等类型。



4.2 实体联系法
实体-联系方法

用E-R图来描述现实世界的概念模型

五、关系模型
关系数据库采用关系模型作为数据的组织方式

关系模型建立在严格的数学概念的基础上



关系模型中的术语：

①关系（relation）
一个关系对应通常说的一张表，如图的图书管借阅证信息表

②元组（tuple）
表中的一行即为一个元组

③属性（attribute）
表中的一列即为一个属性，给每个属性起名，即属性名

例：（学号、姓名、性别、年龄、图书证号、所在系）

④码（key）
也称码键，表中的某个属性，可以唯一确定一个元组，称为码

例：表中的学号可以唯一确定一个学生，学号即为码

⑤域（domain）
域是一组具有相同数据类型的值的集合。

属性的取值范围来自某个域

例：人的年龄一般在1~120岁之间
1~120就是域

⑥分量
元组中的一个属性值

⑦关系模式
对关系的描述一般为：
关系名（属性1，属性2，…，属性n）

例 ：上表的关系可描述为：
借阅证（学号、姓名、性别、年龄、图书证号、所在系）

关系模型要求关系必须是规范化的，即要求关系必须满足一定的规范条件（即范式）

最基本应满足第一范式，即表中不能再有表，每一个分量必须是一个不可再分的数据项。

六、总结
数据模型是数据库系统的核心和基础。

概念模型，是按用户的观点来对数据和信息建模，主要用于数据库设计。

逻辑模型和物理模型，是按计算机系统观点对数据建模，主要用于数据库管理系统的实现。

数据模型由数据结构、数据操作和数据的完整性约束条件三部分组成。

实体之间的联系通常是指不同实体集之间的联系

实体之间的联系有一对一、一对多、多对多等类型。

关系模型满足的基本规定是：表中不能再有表

## 三级模式结构

 数据库系统的三级模式结构是指模式、外模式和内模式。
1、模式

 模式也称为
 逻辑模式或概念模式，是数据库中 全体数据的逻辑结构和特征的描述，是 所有用户的公共数据视图。一个数据库只有一个模式，
 模式位于三级结构的中间层。
2、外模式

 外模式也称为
 用户模式，它是数据库用户（包括应用程序员和最终用户）能够看见和使用的 局部数据的逻辑结构和特征的描述，是 数据库用户的数据视图，是与某一应用有关的数据的逻辑表示。
 外模式是模式的子集，一个数据库可以有多个外模式。
3、内模式

 内模式也称为 存储模式， 一个数据库只有一个内模式，它是数据 物理结构和存储方式的描述，是数据在 数据库内部的表示方式。

三级模式之间的映射

 数据库管理系统在三级模式之间提供了
 两层映射，分别为外模式/模式映射、模式/内模式映射。
1、外模式/模式映射

 对于同一个模式可以有任意多个外模式。对于每一个外模式，数据库系统都有一个外模式/模式映射。当模式被改变时，数据库管理员对各个外模式/模式映射做相应的改变，可以使外模式保持不变。这样，依据数据外模式编写的应用程序就不用修改， 保证了数据与程序的逻辑独立性。
2、模式/内模式

 数据库中只有一个模式和一个内模式，所以 模式/内模式的映射是唯一的，它定义了数据库的全局逻辑结构与存储结构之间的对应关系。当数据库的存储结构被改变时，数据库管理员对模式/内模式映射做相应的改变，可以使模式保持不变，应用程序相应地也不做变动。这样，
 保证了数据与程序的物理独立性。

数据库的二级映像功能与数据独立性
三级模式是对数据的三个抽象级别

二级映象在数据库管理系统内部实现这三个抽象层次的联系和转换：

外模式／模式映像
模式／内模式映像
模式：描述的是数据的全局逻辑结构

外模式：描述的是数据的局部逻辑结构

同一个模式可以有任意多个外模式

每一个外模式，数据库系统都有一个外模式/模式映象，定义外模式与模式之间的对应关系

映象定义通常包含在各自外模式的描述中

保证数据的逻辑独立性：

当模式改变时，数据库管理员对外模式／模式映象作相应改变，使外模式保持不变。
应用程序是依据数据的外模式编写的，应用程序不必修改，保证了数据与程序的逻辑独立性，简称数据的逻辑独立性。

保证数据的物理独立性：

当数据库的存储结构改变了（例如选用了另一种存储结构），数据库管理员修改模式／内模式映象，使模式保持不变。
应用程序不受影响。保证了数据与程序的物理独立性，简称数据的物理独立性。

数据库模式：

即全局逻辑结构是数据库的中心与关键
独立于数据库的其他层次
设计数据库模式结构时应首先确定数据库的逻辑模式
数据库的内模式：

依赖于它的全局逻辑结构
独立于数据库的用户视图，即外模式
独立于具体的存储设备
将全局逻辑结构中所定义的数据结构及其联系按照一定的物理存储策略进行组织，以达到较好的时间与空间效率
数据库的外模式：

面向具体的应用程序
定义在逻辑模式之上
独立于存储模式和存储设备
当应用需求发生较大变化，相应外模式不能满足其视图要求时，该外模式就得做相应改动
设计外模式时应充分考虑到应用的扩充性
数据与程序之间的独立性，使得数据的定义和描述可以从应用程序中分离出去。

## 数据库的组成

数据库、数据库管理系统（及其开发工具）、应用程序、数据库管理员、硬件平台及数据库、软件、人员

1. 硬件平台及数据库
数据库系统对硬件资源的要求：

足够大的内存
足够的大的磁盘或磁盘阵列等设备
较高的通道能力，提高数据传送率
2. 软件
数据库管理系统
支持数据库管理系统运行的操作系统
与数据库接口的高级语言及其编译系统
以数据库管理系统为核心的应用开发工具
为特定应用环境开发的数据库应用系统
3. 人 员
不同的人员涉及不同的数据抽象级别，具有不同的数据视图，如下图：


3.1数据库管理员
具体职责：

决定数据库中的信息内容和结构
决定数据库的存储结构和存取策略
定义数据的安全性要求和完整性约束条件
监控数据库的使用和运行
周期性转储数据库、数据文件、日志文件 、系统故障恢复、介质故障恢复、监视审计文件
数据库的改进和重组
性能监控和调优、定期对数据库进行重组织，以提高系统的性能、需求增加和改变时，数据库须需要重构造
3.2系统分析员和数据库设计人员
系统分析员

负责应用系统的需求分析和规范说明
与用户及数据库管理员结合，确定系统的硬软件配置
参与数据库系统的概要设计
数据库设计人员

参加用户需求调查和系统分析
确定数据库中的数据
设计数据库各级模式
3.3应用程序员
设计和编写应用系统的程序模块

进行调试和安装

3.4最终用户
用户是指最终用户（End User）。最终用户通过应用系统的用户接口使用数据库。

1. 偶然用户

不经常访问数据库，但每次访问数据库时往往需要不同的数据库信息
企业或组织机构的高中级管理人员
2. 简单用户

主要工作是查询和更新数据库
银行的职员、机票预定人员、旅馆总台服务员
3. 复杂用户

工程师、科学家、经济学家、科技工作者等
直接使用数据库语言访问数据库，甚至能够基于数据库管理系统的应用程序接口编制自己的应用程序

[(10条消息) 【数据库系统设计】数据库完整性（实体完整性、参照完整性、用户定义的完整性、CHECK语句）_萌宅鹿的技术小屋-CSDN博客_数据库设计完整性](https://blog.csdn.net/weixin_43734095/article/details/105187039?ops_request_misc=%7B%22request%5Fid%22%3A%22164697437416780255287130%22%2C%22scm%22%3A%2220140713.130102334.pc%5Fall.%22%7D&request_id=164697437416780255287130&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-105187039.pc_search_insert_es_download&utm_term=数据库系统三种完整性及概念&spm=1018.2226.3001.4187)

[(10条消息) 数据库系统概论（第五章数据库完整性）_王小波的博客-CSDN博客_数据库的完整性是指](https://blog.csdn.net/qq_38900441/article/details/105022908?ops_request_misc=%7B%22request%5Fid%22%3A%22164697437416780255287130%22%2C%22scm%22%3A%2220140713.130102334.pc%5Fall.%22%7D&request_id=164697437416780255287130&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-2-105022908.pc_search_insert_es_download&utm_term=数据库系统三种完整性及概念&spm=1018.2226.3001.4187)

## 数据库系统概论之规范化

1.问题的提出
\quad一个关系模式系模式由五部分组成，是一个五元组：
R ( U , D , D O M , F ) R(U, D, DOM, F)
R(U,D,DOM,F)

关系名R RR是符号化的元组语义，
U UU为一组属性，
D DD为属性组U UU中的属性所来自的域，
D O M DOMDOM为属性到域的映射，
F FF为属性组U UU上的一组数据依赖。
由于D DD、D O M DOMDOM与模式设计关系不大，因此在本章中把关系模式看作一个三元组：R < U , F > R<U,F>R<U,F>

\quad未经过规范化的关系模式，可能会造成的问题：
（1）数据冗余，浪费大量的存储空间。
（2）更新异常，数据冗余 ，更新数据时，维护数据完整性代价大。
（3）插入异常。
（4）删除异常。

2.相关定义
（1）数据依赖
\quad分为函数依赖和多值依赖（这里仅考虑函数依赖）①是一个关系内部属性与属性之间的一种约束关系，通过属性间值的相等与否体现出来的数据间相互联系。②是现实世界属性间相互联系的抽象。③是数据内在的性质。④是语义的体现。

（2）函数依赖
\quad设R ( U ) R(U)R(U)是一个属性集U UU上的关系模式，X XX和Y YY是U UU的子集。
若对于R ( U ) R(U)R(U)的任意一个可能的关系r rr，r rr 中不可能存在两个元组在X XX上的属性值相等， 而在Y YY上的属性值不等，
则称“X XX函数确定Y YY”或“Y YY函数依赖于X XX”，记作
X → Y X→Y
X→Y

X → Y X→YX→Y，但Y ⊈ X Y⊈XY⊈X则称X → Y X→YX→Y是非平凡的函数依赖。
X → Y X→YX→Y，但Y ⊆ X Y⊆XY⊆X 则称X → Y X→YX→Y是平凡的函数依赖。
\quad注：对于任一关系模式，平凡函数依赖都是必然成立的，它不反映新的语义。若不特别声明， 我们总是讨论非平凡函数依赖。

若X → Y X→YX→Y，则X XX称为这个函数依赖的决定因素。
若X → Y X→YX→Y，Y → X Y→XY→X，则记作X ← → Y X←→YX←→Y。
若Y YY不函数依赖于X XX，则记作X ↛ Y X↛YX↛Y。
(3)完全函数依赖
\quad在R ( U ) R(U)R(U)中，如果X → Y X→YX→Y，并且对于X XX的任何一个真子集X ′ X'X 
′
 , 都有 X ′ ↛ Y X' ↛ YX 
′
 ↛Y, 则称Y YY对X XX完全函数依赖，记作
X ⟶ F Y X\stackrel{F}{\longrightarrow}Y
X 
⟶
F

 Y

(4)部分函数依赖
\quad若X → Y X→YX→Y，但Y YY不完全函数依赖于X XX，则称Y YY对X XX部分函数依赖，记作
X ⟶ P Y X\stackrel{P}{\longrightarrow}Y
X 
⟶
P

 Y

(5)候选码
\quad设K KK为R < U , F > R<U,F>R<U,F>中的属性或属性组合。若K ⟶ F U K\stackrel{F}{\longrightarrow}UK 
⟶
F

 U，则K KK称为R RR的一个候选码。

如果U UU部分函数依赖于K KK，即K ⟶ P U K\stackrel{P}{\longrightarrow}UK 
⟶
P

 U,则K KK称为超码。候选码是最小的超码，即K KK的任意一个真子集都不是候选码。
若关系模式R有多个候选码，则选定其中的一个做为主码。
包含在任何一个候选码中的属性 ，称为主属性。
不包含在任何码中的属性称为非主属性。
整个属性组是码，称为全码。
（6）外码
\quad关系模式 R RR中属性或属性组X XX并非R RR的码，但X XX是另一个关系模式的码，则称X XX是R RR的外码。

3.规范化理论
(1)1 N F 1NF1NF
\quad数据属性不可再分，不存在表中有表，就是1 N F 1NF1NF。

(2)2 N F 2NF2NF
\quad若关系模式R ∈ 1 N F R∈1NFR∈1NF，并且每一个非主属性都完全函数依赖于任何一个候选码，则R ∈ 2 N F R∈2NFR∈2NF。（不存在非主属性对码的部分函数依赖）

(3)3 N F 3NF3NF
\quad若关系模式R ∈ 2 N F R∈2NFR∈2NF，不存在非主属性对码的传递函数依赖，则R ∈ 3 N F R∈3NFR∈3NF。

(4)B C N F BCNFBCNF
\quad设关系模式R < U , F > ∈ 1 N F R<U,F>∈1NFR<U,F>∈1NF，若X → Y X →YX→Y且Y ⊆ X Y ⊆ XY⊆X时X XX必含有码，则R < U , F > ∈ B C N F R<U,F>∈BCNFR<U,F>∈BCNF。
\quad注：如果一个关系数据库中的所有关系模式都属于BCNF，那么在函数依赖范畴内，它已实现了模式的彻底分解，达到了最高的规范化程度，消除了插入异常和删除异常。

4.关系模式规范化的基本步骤
\quad画出依赖关系表示图，先找出主码，然后逐步消除，确定该关系模式属于哪一级别的范式。![img](https://img-blog.csdnimg.cn/20200818213256765.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNTQ4MTUz,size_16,color_FFFFFF,t_70#pic_center)

5.数据依赖的公理系统
(1)逻辑蕴涵
\quad对于满足一组函数依赖F FF的关系模式 R < U , F > R <U,F>R<U,F>，其任何一个关系r rr，若函数依赖X → Y X→YX→Y都成立（即r rr中任意两元组t tt、s ss，若t [ X ] = s [ X ] t[X]=s[X]t[X]=s[X]，则 t [ Y ] = s [ Y ] t[Y]=s[Y]t[Y]=s[Y]），则称F FF逻辑蕴涵X → Y X →YX→Y。

(2)Armstrong公理系统

自反律：若Y ⊆ X ⊆ U Y\subseteq X\subseteq UY⊆X⊆U，则X → Y X →YX→Y 为F FF所蕴涵。
增广律：若X → Y X→YX→Y为F FF所蕴涵，且X ⊆ Z X\subseteq ZX⊆Z，则X Z → Y Z XZ→YZXZ→YZ 为F FF所蕴涵。
传递律：若X → Y X→YX→Y及Y → Z Y→ZY→Z为F FF所蕴涵，则X → Z X→ZX→Z 为F FF所蕴涵。
(3)三条推理规则

合并规则：由X → Y X→YX→Y，X → Z X→ZX→Z，有X → Y Z X→YZX→YZ。
伪传递规则：由X → Y X→YX→Y，W Y → Z WY→ZWY→Z，有X W → Z XW→ZXW→Z。
分解规则：由X → Y X→YX→Y及Z ⊆ Y Z\subseteq YZ⊆Y，有X → Z X→ZX→Z。
引理：X → A 1 A 2 … A k X→A_1A_2…A_kX→A 
1

 A 
2

 …A 
k

 成立的充分必要条件是X → A i X→A_iX→A 
i

 成立（ i = 1 ， 2 ， … ， k ） （i=1，2，…，k）（i=1，2，…，k）
————————————————
版权声明：本文为CSDN博主「千叶Mc」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/qq_40548153/article/details/108087004

[(10条消息) 数据库中的事务_慕柏的博客-CSDN博客_数据库事务](https://blog.csdn.net/qq_37447414/article/details/81432675?ops_request_misc=%7B%22request%5Fid%22%3A%22164697480916780255285386%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&request_id=164697480916780255285386&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-81432675.pc_search_insert_es_download&utm_term=数据库事务&spm=1018.2226.3001.4187)

[(10条消息) 数据库事务详解_Hai的博客-CSDN博客_数据库事务](https://blog.csdn.net/weixin_49822811/article/details/114029257?ops_request_misc=%7B%22request%5Fid%22%3A%22164697480916780255285386%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&request_id=164697480916780255285386&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-4-114029257.pc_search_insert_es_download&utm_term=数据库事务&spm=1018.2226.3001.4187)

[(10条消息) 数据库故障恢复技术_高筑墙，广积粮，缓称王-CSDN博客_数据库故障恢复](https://blog.csdn.net/dingding_12345/article/details/50471224?ops_request_misc=%7B%22request%5Fid%22%3A%22164697488516780255233251%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&request_id=164697488516780255233251&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-5-50471224.pc_search_insert_es_download&utm_term=数据库故障&spm=1018.2226.3001.4187)

[(10条消息) 数据库系统概论：并发控制_偶滴博客-CSDN博客_数据库管理系统并发控制](https://blog.csdn.net/weixin_44759105/article/details/111632710?ops_request_misc=%7B%22request%5Fid%22%3A%22164697497316780261971368%22%2C%22scm%22%3A%2220140713.130102334.pc%5Fall.%22%7D&request_id=164697497316780261971368&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-2-111632710.pc_search_insert_es_download&utm_term=数据库系统概论并发&spm=1018.2226.3001.4187)

[(10条消息) 数据库系统概论（第十一章并发控制）_王小波的博客-CSDN博客_如何用封锁机制保证数据的一致性](https://blog.csdn.net/qq_38900441/article/details/105174019?ops_request_misc=%7B%22request%5Fid%22%3A%22164697497316780261971368%22%2C%22scm%22%3A%2220140713.130102334.pc%5Fall.%22%7D&request_id=164697497316780261971368&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-3-105174019.pc_search_insert_es_download&utm_term=数据库系统概论并发&spm=1018.2226.3001.4187)

